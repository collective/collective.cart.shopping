<section
  id="cart-articles"
  i18n:domain="collective.cart.shopping"
  tal:condition="viewlet/articles">
  <table>
    <tbody>
        <tr tal:repeat="item viewlet/articles">
          <td class="image">
            <a
              tal:condition="item/url"
              tal:attributes="
                href item/url;
                title item/title">
              <img tal:attributes="src item/image_url" />
            </a>
            <img
                tal:condition="not: item/url"
                tal:attributes="src item/image_url"
                />
          </td>
          <td class="name">
            <h3>
              <a
                tal:condition="item/url"
                tal:attributes="href item/url"
                tal:content="item/title"
                />
              <span
                tal:condition="not: item/url"
                tal:replace="item/title"
                />
            </h3>
            <p tal:content="item/description" />
          </td>
          <td class="price-and-quantity">
            <form
              method="post"
              tal:attributes="action context/plone_context_state/current_base_url">
              <span tal:replace="structure context/@@authenticator/authenticator" />
              <input
                id="quantity"
                min="0"
                name="quantity"
                type="number"
                tal:attributes="
                  max item/quantity_max;
                  maxlength item/quantity_size;
                  size item/quantity_size;
                  value item/quantity"
                />
                &nbsp;&times;&nbsp;
              <span class="gross" tal:content="item/locale_gross" />
              <br />
              <span class="vat" i18n:translate="">
                Including VAT: <span i18n:name="vat" tal:replace="item/vat_rate" />
              </span>
              <section class="buttons">
                <button
                  class="shopping-button update"
                  i18n:translate=""
                  name="form.update.article"
                  type="submit"
                  tal:attributes="value item/id"
                  value="form.update.article"
                  >
                  Update
                </button>
                <button
                  class="shopping-button remove"
                  i18n:translate=""
                  name="form.delete.article"
                  type="submit"
                  tal:attributes="value item/id"
                  value="form.delete.article"
                  >
                  Delete
                </button>
              </section>
            </form>
          </td>
        </tr>
    </tbody>
  </table>
</section>
